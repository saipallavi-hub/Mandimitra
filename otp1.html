<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>OTP Verification</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #A5BFD1;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
      position: relative;
    }

    .logo {
      position: absolute;
      top: 10px;
      left: 15px;
      width: 120px;
    }

    .container {
      text-align: center;
      background: rgba(255, 255, 255, 0.2);
      padding: 20px;
      border-radius: 10px;
      width: 90%;
      max-width: 400px;
    }

    .otp-container {
      margin: 20px 0;
    }

    .otp-input {
      width: 50px;
      height: 50px;
      text-align: center;
      font-size: 20px;
      margin: 5px;
      border: 2px solid #0044cc;
      border-radius: 8px;
    }

    .button {
      background-color: gray;
      color: white;
      border: none;
      padding: 15px;
      font-size: 18px;
      border-radius: 8px;
      cursor: pointer;
      width: 90%;
    }

    .button:enabled {
      background-color: #0044cc;
    }

    #resend-btn {
      background-color: #0044cc;
      color: white;
      border-radius: 20px;
      padding: 10px 20px;
      font-size: 16px;
      border: none;
      cursor: pointer;
    }

    .bottom-left {
      position: absolute;
      bottom: 15px;
      left: 15px;
      font-size: 24px;
      cursor: pointer;
    }

    .bottom-right {
      position: absolute;
      bottom: 15px;
      right: 15px;
      font-size: 24px;
      cursor: pointer;
    }
  </style>
</head>
<body>

  <img src="https://res.cloudinary.com/dtnmwdkou/image/upload/v1744215563/Untitled_design-removebg-preview_g1gy1h.png" alt="Mandi Mitra Logo" class="logo">

  <div class="container">
    <h2 id="otpHeading">Enter OTP</h2>

    <div class="otp-container">
      <input type="text" maxlength="1" class="otp-input" id="otp1" oninput="moveToNext(this, 'otp2')">
      <input type="text" maxlength="1" class="otp-input" id="otp2" oninput="moveToNext(this, 'otp3')">
      <input type="text" maxlength="1" class="otp-input" id="otp3" oninput="moveToNext(this, 'otp4')">
      <input type="text" maxlength="1" class="otp-input" id="otp4" oninput="verifyOTP()">
    </div>

    <p id="resendText">Didn‚Äôt get the code? <button id="resend-btn" disabled onclick="resendOTP()">Resend</button></p>
    <p><span id="timerLabel">Resend will be available in</span> <span id="timer">60</span>s</p>

    <button class="button" id="continue-btn" disabled onclick="redirectToApp()">Continue</button>
  </div>

  <div class="bottom-left" onclick="toggleLanguage()">üåç</div>
  <div class="bottom-right" onclick="startVoiceAssistant()">üéôÔ∏è</div>

  <script>
    const translations = {
      en: {
        heading: "Enter OTP",
        resendText: "Didn‚Äôt get the code?",
        resendButton: "Resend",
        timerLabel: "Resend will be available in",
        continue: "Continue",
        voice: "Please enter the 4-digit OTP sent to your mobile. You can resend the code or continue after entering."
      },
      hi: {
        heading: "‡§ì‡§ü‡•Ä‡§™‡•Ä ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç",
        resendText: "‡§ï‡•ã‡§° ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§ø‡§≤‡§æ?",
        resendButton: "‡§™‡•Å‡§®‡§É ‡§≠‡•á‡§ú‡•á‡§Ç",
        timerLabel: "‡§™‡•Å‡§®‡§É ‡§≠‡•á‡§ú‡§®‡§æ ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§π‡•ã‡§ó‡§æ",
        continue: "‡§ú‡§æ‡§∞‡•Ä ‡§∞‡§ñ‡•á‡§Ç",
        voice: "‡§ï‡•É‡§™‡§Ø‡§æ ‡§Ö‡§™‡§®‡•á ‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§™‡§∞ ‡§≠‡•á‡§ú‡§æ ‡§ó‡§Ø‡§æ 4 ‡§Ö‡§Ç‡§ï‡•ã‡§Ç ‡§ï‡§æ ‡§ì‡§ü‡•Ä‡§™‡•Ä ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç‡•§ ‡§Ü‡§™ ‡§ï‡•ã‡§° ‡§™‡•Å‡§®‡§É ‡§≠‡•á‡§ú ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç ‡§Ø‡§æ ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§¨‡§æ‡§¶ ‡§Ü‡§ó‡•á ‡§¨‡§¢‡§º ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç‡•§"
      },
      te: {
        heading: "‡∞ì‡∞ü‡±Ä‡∞™‡±Ä‡∞®‡±Å ‡∞®‡∞Æ‡±ã‡∞¶‡±Å ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø",
        resendText: "‡∞ï‡±ã‡∞°‡±ç ‡∞∞‡∞æ‡∞≤‡±á‡∞¶‡∞æ?",
        resendButton: "‡∞Æ‡∞≥‡±ç‡∞≤‡±Ä ‡∞™‡∞Ç‡∞™‡∞Ç‡∞°‡∞ø",
        timerLabel: "‡∞Æ‡∞≥‡±ç‡∞≤‡±Ä ‡∞™‡∞Ç‡∞™‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞Ö‡∞Ç‡∞¶‡±Å‡∞¨‡∞æ‡∞ü‡±Å‡∞≤‡±ã ‡∞â‡∞Ç‡∞ü‡±Å‡∞Ç‡∞¶‡∞ø",
        continue: "‡∞ï‡±ä‡∞®‡∞∏‡∞æ‡∞ó‡∞ø‡∞Ç‡∞ö‡±Å",
        voice: "‡∞¶‡∞Ø‡∞ö‡±á‡∞∏‡∞ø ‡∞Æ‡±Ä ‡∞Æ‡±ä‡∞¨‡±à‡∞≤‡±ç‚Äå‡∞ï‡±Å ‡∞™‡∞Ç‡∞™‡∞ø‡∞® 4 ‡∞Ö‡∞Ç‡∞ï‡±Ü‡∞≤ ‡∞ì‡∞ü‡±Ä‡∞™‡±Ä‡∞®‡∞ø ‡∞®‡∞Æ‡±ã‡∞¶‡±Å ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø. ‡∞Æ‡±Ä‡∞∞‡±Å ‡∞ï‡±ã‡∞°‡±ç‚Äå‡∞®‡∞ø ‡∞Æ‡∞≥‡±ç‡∞≤‡±Ä ‡∞™‡∞Ç‡∞™‡∞ø‡∞Ç‡∞ö‡∞µ‡∞ö‡±ç‡∞ö‡±Å ‡∞≤‡±á‡∞¶‡∞æ ‡∞ï‡±ä‡∞®‡∞∏‡∞æ‡∞ó‡∞ø‡∞Ç‡∞ö‡∞µ‡∞ö‡±ç‡∞ö‡±Å."
      }
    };

    let selectedLang = localStorage.getItem('selectedLanguage') || 'en';

    function applyTranslations() {
      const t = translations[selectedLang];
      document.getElementById("otpHeading").innerText = t.heading;
      document.getElementById("resendText").childNodes[0].nodeValue = t.resendText + " ";
      document.getElementById("resend-btn").innerText = t.resendButton;
      document.getElementById("timerLabel").innerText = t.timerLabel;
      document.getElementById("continue-btn").innerText = t.continue;
    }

    function moveToNext(current, nextId) {
      if (current.value.length === 1 && nextId) {
        document.getElementById(nextId).focus();
      }
    }

    function verifyOTP() {
      let otp = "";
      for (let i = 1; i <= 4; i++) {
        otp += document.getElementById('otp' + i).value;
      }
      if (otp.length === 4) {
        document.getElementById("continue-btn").disabled = false;
      }
    }

    function redirectToApp() {
      alert("OTP Verified!");
      window.location.href = "farmersell.html";
    }

    function resendOTP() {
      alert("OTP Resent!");
      document.getElementById("resend-btn").disabled = true;
      startTimer();
    }

    function startTimer() {
      let timer = 60;
      let timerInterval = setInterval(function () {
        document.getElementById("timer").innerText = timer;
        timer--;
        if (timer < 0) {
          clearInterval(timerInterval);
          document.getElementById("resend-btn").disabled = false;
          document.getElementById("timer").innerText = "0";
        }
      }, 1000);
    }

    function toggleLanguage() {
      const languages = ["en", "hi", "te"];
      const currentIndex = languages.indexOf(selectedLang);
      selectedLang = languages[(currentIndex + 1) % languages.length];
      localStorage.setItem('selectedLanguage', selectedLang);
      applyTranslations();
    }

    function startVoiceAssistant() {
      const msg = new SpeechSynthesisUtterance(translations[selectedLang].voice);
      msg.lang = selectedLang === "hi" ? "hi-IN" : selectedLang === "te" ? "te-IN" : "en-US";
      window.speechSynthesis.cancel();
      window.speechSynthesis.speak(msg);
    }

    window.onload = function () {
      applyTranslations();
      startTimer();
    };
  </script>
</body>
</html>
